<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Barangay Clearance</title>
	<style>
		body {
			font-family: Arial, sans-serif;
			margin: 20px;
		}
		h1 {
			text-align: center;
		}
		form {
			max-width: 500px;
			margin: 0 auto;
			padding: 20px;
			border: 1px solid #ccc;
			border-radius: 10px;
			box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
		}
		label {
			font-weight: bold;
		}
		input, select, textarea {
			width: 100%;
			padding: 8px;
			margin: 5px 0 15px;
			border: 1px solid #ccc;
			border-radius: 5px;
		}
		button {
			background-color: #007bff;
			color: white;
			padding: 10px;
			border: none;
			border-radius: 5px;
			cursor: pointer;
			width: 100%;
			margin-top: 10px;
		}
		button:hover {
			background-color: #0056b3;
		}

	</style>
</head>
<body>

	<h1>Barangay Clearance Form</h1>

	<form id="barangay-clearance-form">
		<label for="first-name">First Name:</label>
		<input type="text" id="first-name" name="first-name" required>

		<label for="middle-name">Middle Name:</label>
		<input type="text" id="middle-name" name="middle-name">

		<label for="last-name">Last Name:</label>
		<input type="text" id="last-name" name="last-name" required>

		<label for="civil-status">Civil Status:</label>
		<select id="civil-status" name="civil-status" required>
			<option value="">Select</option>
			<option value="Single">Single</option>
			<option value="Married">Married</option>
			<option value="Widowed">Widowed</option>
			<option value="Divorced">Divorced</option>
		</select>

		<label for="birthdate">Birthdate:</label>
		<input type="date" id="birthdate" name="birthdate" required>

		<label for="birthplace">Birthplace:</label>
		<input type="text" id="birthplace" name="birthplace" required>

		<label for="address">Address:</label>
		<input type="text" id="address" name="address" required>

		<label for="findings">Findings:</label>
		<textarea id="findings" name="findings" rows="3" required></textarea>

		<label for="purpose">Purpose:</label>
		<textarea id="purpose" name="purpose" rows="3" required></textarea>

		<button type="submit">Submit</button>
	</form>

	<script>

		document.getElementById("barangay-clearance-form").addEventListener("submit", function(event) {
			event.preventDefault();

			// Get form values
			const firstName = document.getElementById("first-name").value;
			const middleName = document.getElementById("middle-name").value;
			const lastName = document.getElementById("last-name").value;
			const civilStatus = document.getElementById("civil-status").value;
			const birthdate = document.getElementById("birthdate").value;
			const birthplace = document.getElementById("birthplace").value;
			const address = document.getElementById("address").value;
			const findings = document.getElementById("findings").value;
			const purpose = document.getElementById("purpose").value;

			// Now define certificateContent inside event listener
			const certificateContent = `
				<html>
				<head>
					<title>Barangay Clearance</title>
					<style>
						body { font-family: Arial, sans-serif; padding: 20px; }
						.container { max-width: 600px; margin: auto; padding: 20px; border: 1px solid #000; }
						h1, h3 { text-align: center; }
						p { margin: 10px 0; }
						.btn-container { text-align: center; margin-top: 20px; }
						button {
							padding: 10px 15px;
							margin: 5px;
							border: none;
							cursor: pointer;
							font-size: 16px;
						}
						.print-btn { background: green; color: white; }
						.cancel-btn { background: red; color: white; }
						.duplicate { display: none }
						@media print {
							.no-print {
								display: none;
							}
							.print {
								display: block;
							}
						}	
					</style>
				</head>
				<body>
					<div class="container">
						<h1>Barangay Clearance</h1>
						<h3>Republic of the Philippines</h3>
						<h3>Barangay [Your Barangay Name]</h3>

						<p><strong>Name:</strong> ${firstName} ${middleName} ${lastName}</p>
						<p><strong>Civil Status:</strong> ${civilStatus}</p>
						<p><strong>Birthdate:</strong> ${birthdate}</p>
						<p><strong>Birthplace:</strong> ${birthplace}</p>
						<p><strong>Address:</strong> ${address}</p>
						<p><strong>Findings:</strong> ${findings}</p>
						<p><strong>Purpose:</strong> ${purpose}</p>
					</div>
					<div class="container duplicate print">
						<h1>Barangay Clearance</h1>
						<h3>Republic of the Philippines</h3>
						<h3>Barangay [Your Barangay Name]</h3>

						<p><strong>Name:</strong> ${firstName} ${middleName} ${lastName}</p>
						<p><strong>Civil Status:</strong> ${civilStatus}</p>
						<p><strong>Birthdate:</strong> ${birthdate}</p>
						<p><strong>Birthplace:</strong> ${birthplace}</p>
						<p><strong>Address:</strong> ${address}</p>
						<p><strong>Findings:</strong> ${findings}</p>
						<p><strong>Purpose:</strong> ${purpose}</p>
					</div>
					<div class="btn-container">
						<button class="print-btn no-print" onclick="window.print()">Print</button>
						<button class="cancel-btn no-print" onclick="window.close()">Cancel</button>
					</div>
				</body>
				</html>
			`;

			// Open a new window for the document
			const docWindow = window.open("", "_blank");

			// Write content into the new window
			docWindow.document.write(`${certificateContent}`);
			docWindow.document.close();
		});

	</script>

</body>
</html>
